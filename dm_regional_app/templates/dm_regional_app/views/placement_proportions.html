{% extends "dm_regional_app/base.html" %}
{% load crispy_forms_tags %}
{% load table_tags %}


{% block content %}

{% if messages %}
    <div class="container mt-4">
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
        {% endfor %}
    </div>
{% endif %}

<br>
    <h1>Adjust placement proportions</h1>
    <br>
    <p>You may want to edit the proportions relating to a particular placement to give a more accurate picture of your projected spend. 
        The forecast model first works out the high level placement populations (fostering, residential, supported and other) and will
        then apply the below proportions to these placements to work out costs.</p>
    <p>New proportions will overwrite previous values. Entering proportions that sum to more than or less than one will result in the model
        scaling these values so that the total sums to 1. Weight will be given to values entered by the user.
    </p>
        <div class="table-responsive">
            <table id="transition-rate" class="table table-hover">
                <form method="post">
                {% csrf_token %}
                {% convert_data_frame_to_html_table_plus_form placement_types form "New proportion" %}
                <tr>
                <td colspan="3">
                    <div class="p-2 bd-highlight"><a class="btn btn-secondary" href="costs">Back</a></div>
                </td>
                <td>
                    <div class="p-2 bd-highlight"><button type="submit" class="btn btn-primary">Save</button></div>
                </td>
                </tr>
            </form>
            </table>
        </div>


</div>

{% endblock %}
