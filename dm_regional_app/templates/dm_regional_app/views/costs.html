{% extends "dm_regional_app/base.html" %}
{% load crispy_forms_tags %}
{% load table_tags custom_filters %}


{% block content %}

<br>
    <h1>Projecting Spend</h1>
    <br>
    <p>Enter values for weekly provider costs to attribute a projected spend for the forecast you have created.</p>
    <br>
    <div class="accordion" id="accordionExample">
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingOne">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
              <strong>Summary of forecast</strong>
            </button>
          </h2>
          <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <p><strong>This is a summary view of the forecast you have created.</strong> If you would like to edit this forecast, please return to the base forecast page.</p>
              <div class="container-sm">
                <div class="row">
                <div class="col-md-6">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <td scope="col">Reference start date</td>
                    <td scope="col">Reference end date</td>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td scope="row">{{ forecast_dates.reference_start_date|date:"d/m/Y" }}</td>
                    <td>{{ forecast_dates.reference_end_date|date:"d/m/Y" }}</td>
                  </tr>
                </tbody>
              </table>
            </div>
        </div>
    
            <div class="row">
                <div class="col-md-6">
              <table class="table table-bordered">
                <thead>
                  <tr>
                    <td scope="col">Forecast start date</td>
                    <td scope="col">Forecast end date</td>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td scope="row">
                        {% if forecast_dates.prediction_start_date %}
                            {{ forecast_dates.prediction_start_date|date:"d/m/Y" }}
                        {% else %}
                            {{ forecast_dates.reference_end_date|add_days:"1"|date:"d/m/Y" }}
                        {% endif %}
                    </td>
                    <td>
                        {% if forecast_dates.prediction_end_date %}
                            {{ forecast_dates.prediction_end_date|date:"d/m/Y" }}
                        {% else %}
                            {% if forecast_dates.prediction_start_date %}
                                {{ forecast_dates.prediction_start_date|add_days:"730"|date:"d/m/Y" }}
                            {% else %}
                                {{ forecast_dates.reference_end_date|add_days:"731"|date:"d/m/Y" }}
                            {% endif %}
                        {% endif %}
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
            </div>
            <div class="d-flex bd-highlight mb-3">
                <div class="ms-auto p-2 bd-highlight"><a class="btn btn-primary" href="{% url 'router_handler' %}?next_url_name=prediction">Return to base forecast</a></div>
              </div>
            </div>
          </div>
        </div>
    </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
              <strong>Enter values for daily cost per child</strong>
            </button>
          </h2>
          <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <strong>This is the second item's accordion body.</strong> It is hidden by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the <code>.accordion-body</code>, though the transition does limit overflow.
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="headingThree">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
              <strong>Adjust placement provider proportions</strong>
            </button>
          </h2>
          <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#accordionExample">
            <div class="accordion-body">
              <strong>This is the third item's accordion body.</strong> It is hidden by default, until the collapse plugin adds the appropriate classes that we use to style each element. These classes control the overall appearance, as well as the showing and hiding via CSS transitions. You can modify any of this with custom CSS or overriding our default variables. It's also worth noting that just about any HTML can go within the <code>.accordion-body</code>, though the transition does limit overflow.
            </div>
          </div>
        </div>
      </div>
<br>
      <div class="d-flex bd-highlight mb-3">
        <div class="p-2 bd-highlight"><a class="btn btn-secondary" href="{% url 'router_handler' %}?next_url_name=adjusted">Back</a></div>
      </div>

{% endblock %}